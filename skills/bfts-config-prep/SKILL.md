---
name: bfts-config-prep
description: Prepare a run directory and BFTS config for experiments from an idea JSON + idea.md. Use before running experiment-bfts-runner.
---

# BFTS Config Prep

## Overview
Create a run folder with a timestamped name, copy a BFTS config template, and fill in required paths (desc_file, data_dir, log_dir, workspace_dir).

## Workflow
1. **Ensure idea files exist**
   - `idea.json` follows `references/idea.schema.json`.
   - `idea.md` generated by idea-to-markdown.
2. **Prepare run folder**
   - `UV_CACHE_DIR=/tmp/uv-cache XDG_CACHE_HOME=/tmp uv run --with pyyaml -s scripts/prep_bfts_config.py --idea-json idea.json --idea-md idea.md --out-root runs`

## Outputs
- `runs/<timestamp>_<idea_name>/`
  - `idea.json`, `idea.md`, `bfts_config.yaml`
  - `data/`, `logs/`, `workspaces/`

## Safeguards
- Does not modify source idea files.
- Writes only under `--out-root`.

## References
- Idea schema: `references/idea.schema.json`
- BFTS template: `references/bfts_config_template.yaml`
